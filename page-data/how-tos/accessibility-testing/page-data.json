{"componentChunkName":"component---src-templates-generic-template-tsx","path":"/how-tos/accessibility-testing/","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h4\", null, \"Component Accessibility\"), mdx(\"p\", null, \"In our efforts for our front-ends to meet accessibility requirements, we implement supplemental automated accessibility testing via \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jest-axe\"), \", a custom jest matcher for testing accessibility. Since it is a jest plugin, this allows us to write tests for components where we would be conerned about any accessibility requirements being met. These sort of tests can be placed right alongside existing unit tests, and they can be parameterized to run the same test over our provided screen sizes by using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jest-each\"), \" plugin, which in general enables parameterized tests.\"), mdx(\"p\", null, \"Automated accessibility provide a safeguard around common issues and can catch ~30% of issues.\"), mdx(\"p\", null, \"Packages\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"jest-axe\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"jest-each\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"import { axe, toHaveNoViolations } from 'jest-axe';\\nimport each from 'jest-each';\\nexpect.extend(toHaveNoViolations)\\n\\n\\ndescribe('component: MenuBar', () => {\\n    \\n    // ... other tests\\n\\n    describe(\\\"accessibility\\\", () => {\\n        each([\\n            [\\\"tiny\\\", SIZES.tiny],\\n            [\\\"small\\\", SIZES.small],\\n            [\\\"medium\\\", SIZES.medium],\\n            [\\\"large\\\", SIZES.large],\\n            [\\\"extraLarge\\\", SIZES.extraLarge]\\n        ]).test(\\\"has no violations on screen size '%s'\\\", async (text, screen_size) => {\\n            const { container } = render(\\n                <StyleProvider>\\n                    <ScreenSizeContext.Provider value={screen_size}>\\n                        <Menu />\\n                    </ScreenSizeContext.Provider>\\n                </StyleProvider>\\n            );\\n\\n            const results = await axe(container);\\n\\n            expect(results).toHaveNoViolations();\\n        });\\n    });\\n});\\n\\n\")), mdx(\"p\", null, \"You will get output\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"component: MenuBar\\n    ...\\n    accessibility\\n      \\u2715 has no violations on 'tiny' (667 ms)\\n      \\u2715 has no violations on 'small' (715 ms)\\n      \\u2715 has no violations on 'medium' (723 ms)\\n      \\u2715 has no violations on 'large' (655 ms)\\n      \\u2715 has no violations on 'extraLarge' (692 ms)\\n\\n  \\u25CF component: MenuBar \\u203A accessibility \\u203A is accessible on 'tiny'\\n\\n    expect(received).toHaveNoViolations(expected)\\n\\n    Expected the HTML found at $('#mb-button') to have no violations:\\n\\n    <button id=\\\"mb-button\\\" role=\\\"button\\\" aria-haspopup=\\\"menu\\\" aria-controls=\\\"mb-popup\\\" type=\\\"button\\\" class=\\\"sc-gyUeRy fUyNFh\\\">\\n\\n    Received:\\n\\n    \\\"Buttons must have discernible text (button-name)\\\"\\n\\n    Fix any of the following:\\n      Element does not have inner text that is visible to screen readers\\n      aria-label attribute does not exist or is empty\\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\\n      Element has no title attribute\\n      Element's default semantics were not overridden with role=\\\"none\\\" or role=\\\"presentation\\\"\\n\\n    You can find more information on this issue here: \\n    https://dequeuniversity.com/rules/axe/4.2/button-name?application=axeAPI\\n\\n      202 |       const results = await axe(container);\\n      203 |\\n    > 204 |       expect(results).toHaveNoViolations();\\n          |                       ^\\n      205 |     })\\n      206 |\\n      207 |   });\\n\\n      at src/MenuBar/MenuBar.test.tsx:204:23\\n\\n\\n    ...\\n\")), mdx(\"p\", null, \"Which gives a good indication on first steps to improving accessibility.\"), mdx(\"p\", null, \"Basically, we want to put some components together, audit them, and fix as necessary. Improving this process will help mitigate issues as the framework itself is adopted across the organization.\"), mdx(\"p\", null, \"One more example but with specifically the MenuButton component,\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, \"describe('component: MenuButton', (): void => {\\n  \\n  // ... other tests\\n\\n  describe(\\\"accessibility\\\", () => {\\n    each([\\n      [\\\"tiny\\\", SIZES.tiny],\\n      [\\\"small\\\", SIZES.small],\\n      [\\\"medium\\\", SIZES.medium],\\n      [\\\"large\\\", SIZES.large],\\n      [\\\"extraLarge\\\", SIZES.extraLarge]\\n    ]).test(\\\"is accessible on '%s'\\\", async (text, screen_size) => {\\n      const actionOne = jest.fn()\\n      const actionTwo = jest.fn()\\n\\n      const { container} = render(\\n        <StyleProvider>\\n          <ScreenSizeContext.Provider value={screen_size}>\\n          <MenuButton>\\n            <MenuButton.Item onSelect={actionOne}>Action One</MenuButton.Item>\\n            <MenuButton.Item onSelect={actionTwo}>Action Two</MenuButton.Item>\\n            <MenuButton.Link href=\\\"#\\\">Action Three</MenuButton.Link>\\n          </MenuButton>\\n          </ScreenSizeContext.Provider>\\n        </StyleProvider>\\n      )\\n\\n      const results = await axe(container);\\n\\n      expect(results).toHaveNoViolations();\\n    })\\n\\n  });\\n})\\n\\n\")), mdx(\"p\", null, \"With output (which is condensed to two of the failures, which show different issues on screen size)\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"  component: MenuButton\\n    ...\\n    accessibility\\n      \\u2715 is accessible on 'tiny' (206 ms)\\n      \\u2715 is accessible on 'small' (158 ms)\\n      \\u2715 is accessible on 'medium' (134 ms)\\n      \\u2715 is accessible on 'large' (154 ms)\\n      \\u2715 is accessible on 'extraLarge' (144 ms)\\n\\n   \\u25CF With theme changes  \\u203A accessibility \\u203A is accessible on 'tiny'\\n\\n    expect(received).toHaveNoViolations(expected)\\n\\n    Expected the HTML found at $('#menu-button--menu--38') to have no violations:\\n\\n    <button aria-haspopup=\\\"true\\\" aria-controls=\\\"menu--38\\\" variant=\\\"filled\\\" class=\\\"sc-fHYxKZ itpwSe\\\" data-reach-menu-button=\\\"\\\" type=\\\"button\\\" id=\\\"menu-button--menu--38\\\">\\n\\n    Received:\\n\\n    \\\"Buttons must have discernible text (button-name)\\\"\\n\\n    Fix any of the following:\\n      Element does not have inner text that is visible to screen readers\\n      aria-label attribute does not exist or is empty\\n      aria-labelledby attribute does not exist, references elements that do not exist or references elements that are empty\\n      Element has no title attribute\\n      Element's default semantics were not overridden with role=\\\"none\\\" or role=\\\"presentation\\\"\\n\\n    You can find more information on this issue here: \\n    https://dequeuniversity.com/rules/axe/4.2/button-name?application=axeAPI\\n\\n    \\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\n\\n    Expected the HTML found at $('div[role=\\\"none\\\"]') to have no violations:\\n\\n    <div role=\\\"none\\\" tabindex=\\\"-1\\\"><a role=\\\"menuitem\\\" tabindex=\\\"-1\\\" href=\\\"#\\\" data-reach-menu-link=\\\"\\\" data-reach-menu-item=\\\"\\\" data-valuetext=\\\"Action Three\\\" id=\\\"option-2--menu--38\\\">Action Three</a></div>\\n\\n    Received:\\n\\n    \\\"Elements of role none or presentation should be flagged (presentation-role-conflict)\\\"\\n\\n    Fix all of the following:\\n      Element is not focusable.\\n\\n    You can find more information on this issue here: \\n    https://dequeuniversity.com/rules/axe/4.2/presentation-role-conflict?application=axeAPI\\n\\n      184 |       const results = await axe(container);\\n      185 |\\n    > 186 |       expect(results).toHaveNoViolations();\\n          |                       ^\\n      187 |     })\\n      188 |\\n      189 |   });\\n\\n      at src/MenuButton/MenuButton.test.tsx:186:23\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","fields":{"title":"Accessibility Testing","slug":"/how-tos/accessibility-testing/"}}},"pageContext":{"slug":"/how-tos/accessibility-testing/"}},"staticQueryHashes":["3276690975"]}